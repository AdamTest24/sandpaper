<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Changelog • sandpaper</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Changelog" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:creator" content="@zkamvar" />
<meta name="twitter:site" content="@thecarpentries" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-news">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">sandpaper</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9060</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/building-with-renv.html">Building Lessons With A Package Cache</a>
    </li>
    <li>
      <a href="../articles/automated-pull-requests.html">Working with Automated Pull Requests</a>
    </li>
    <li class="divider"></li>
    <li>
      <a href="../articles/index.html">More...</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/carpentries/sandpaper/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
      <h1 data-toc-skip>Changelog <small></small></h1>
      <small>Source: <a href='https://github.com/carpentries/sandpaper/blob/master/NEWS.md'><code>NEWS.md</code></a></small>
    </div>

    <div id="sandpaper-0009060" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9060">
<a href="#sandpaper-0009060" class="anchor"></a>sandpaper 0.0.0.9060</h1>
<div id="bug-fix" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix" class="anchor"></a>BUG FIX</h2>
<ul>
<li>The title of the lesson will now appear in the index page.</li>
</ul>
</div>
<div id="misc" class="section level2">
<h2 class="hasAnchor">
<a href="#misc" class="anchor"></a>MISC</h2>
<ul>
<li>The translation script no longer lives in the lesson repo and has been moved (and modified) to <a href="https://data-lessons/lesson-transition/" class="uri">https://data-lessons/lesson-transition/</a>
</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009059" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9059">
<a href="#sandpaper-0009059" class="anchor"></a>sandpaper 0.0.0.9059</h1>
<div id="continuous-integration" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>The scheduler for <code>update-cache.yaml</code> has been fixed to run strictly on the first Tuesday of the month instead of the first seven days of the month AND on Tuesdays.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009058" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9058">
<a href="#sandpaper-0009058" class="anchor"></a>sandpaper 0.0.0.9058</h1>
<div id="continuous-integration-1" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-1" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>
<code>update-cache.yaml</code> has been simplified to pull from the carpentries/actions repository and now updates packages that were not previously included in the lockfile (<a href='https://github.com/carpentries/sandpaper/issues/185'>#185</a>).</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009057" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9057">
<a href="#sandpaper-0009057" class="anchor"></a>sandpaper 0.0.0.9057</h1>
<div id="continuous-integration-2" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-2" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>
<code>update-cache.yaml</code> has been fixed from a regression introduced with 4b8b14d088d03a8a9c6c90e974bb53c35691fb49 where the workflow would not run because it did not check out the repository beforehand.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009056" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9056">
<a href="#sandpaper-0009056" class="anchor"></a>sandpaper 0.0.0.9056</h1>
<div id="bug-fix-1" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-1" class="anchor"></a>BUG FIX</h2>
<ul>
<li>
<code><a href="../reference/update_github_workflows.html">update_github_workflows()</a></code> now sets <code>clean = "*.yaml"</code> by default to align with the behavior of the GitHub workflow and to prevent stale workflows from being present in the repository. (<a href='https://github.com/carpentries/sandpaper/issues/181'>#181</a>, <a href='https://github.com/zkamvar'>@zkamvar</a>)</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009055" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9055">
<a href="#sandpaper-0009055" class="anchor"></a>sandpaper 0.0.0.9055</h1>
<div id="continuous-integration-3" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-3" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>
<code>sandpaper-main.yaml</code> and <code>pr-receive.yaml</code> have been simplified by using composite actions hosted in <code>carpentries/actions/setup-sandpaper</code> and <code>carpentries/actions/setup-deps</code>.</li>
<li>The caching mechanism for R packages and the package cache can now be reset by modifying a per-repository secret called <code>CACHE_VERSION</code>.</li>
</ul>
</div>
<div id="bug-fix-2" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-2" class="anchor"></a>BUG FIX</h2>
<ul>
<li>A bug introduced in 0.0.0.9054 where dependencies were not discovered was fixed.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009054" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9054">
<a href="#sandpaper-0009054" class="anchor"></a>sandpaper 0.0.0.9054</h1>
<div id="misc-1" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-1" class="anchor"></a>MISC</h2>
<ul>
<li>
<code><a href="../reference/manage_deps.html">manage_deps()</a></code> runs slightly faster now that it no longer runs <code><a href="https://rstudio.github.io/renv/reference/hydrate.html">renv::hydrate()</a></code> if no new packages have been added in the lesson.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009053" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9053">
<a href="#sandpaper-0009053" class="anchor"></a>sandpaper 0.0.0.9053</h1>
<div id="new-features" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features" class="anchor"></a>NEW FEATURES</h2>
<ul>
<li>setting <code><a href="https://rdrr.io/r/base/options.html">option(sandpaper.handout = TRUE)</a></code> will create a code handout for R lessons that will live in <code>/files/code-handout.R</code> on your site.</li>
</ul>
</div>
<div id="misc-2" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-2" class="anchor"></a>MISC</h2>
<ul>
<li>An internal caching mechanism has been added for <code><a href="https://rdrr.io/pkg/pegboard/man/Lesson.html">pegboard::Lesson</a></code> objects that we use for extracting components for the syllabus and the handout. See <code>?lesson_storage</code> for details.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009052" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9052">
<a href="#sandpaper-0009052" class="anchor"></a>sandpaper 0.0.0.9052</h1>
<div id="continuous-integration-4" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-4" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>
<code>pr-receive.yaml</code> has fixed spelling.</li>
<li>
<code>pr-receive.yaml</code> has changed to short-cut the invalid PR messages and no longer build the lesson if the PR is invalid. Instead, it will emit the same warning message without building artifacts.</li>
<li>
<code>pr-comment.yaml</code> will no longer fail when no artifacts exist (which would cause extraneous emails for users).</li>
</ul>
</div>
<div id="documentation" class="section level2">
<h2 class="hasAnchor">
<a href="#documentation" class="anchor"></a>DOCUMENTATION</h2>
<ul>
<li>Documentation for test fixtures has been improved to include branch functions.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009051" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9051">
<a href="#sandpaper-0009051" class="anchor"></a>sandpaper 0.0.0.9051</h1>
<div id="misc-3" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-3" class="anchor"></a>MISC</h2>
<p>The template for the pull request message reverts back to two-dot diff notation between branches, which is temporary until <a href='https://github.com/carpentries/sandpaper/issues/169'>#169</a> can be addressed. Linebreaks within paragraphs have been removed to avoid github formatting them as linebreaks.</p>
</div>
</div>
    <div id="sandpaper-0009050" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9050">
<a href="#sandpaper-0009050" class="anchor"></a>sandpaper 0.0.0.9050</h1>
<p>This update for {sandpaper} brings in dependency management for lessons with generated content which will make collaboration between these lessons much easier and less invasive by establishing a package cache and lockfile via the {renv} R package.</p>
<div id="dependency-management" class="section level2">
<h2 class="hasAnchor">
<a href="#dependency-management" class="anchor"></a>DEPENDENCY MANAGEMENT</h2>
<div id="introduction" class="section level3">
<h3 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h3>
<p>We use the {renv} package for controlling dependency management in the lesson, which is contained in a {renv} profile called “lesson-requirements”. We have implemented this as a profile instead of the default {renv} environment to give the maintainers flexibility of whether or not they want to use the package cache.</p>
</div>
<div id="consent-for-using-the-package-cache" class="section level3">
<h3 class="hasAnchor">
<a href="#consent-for-using-the-package-cache" class="anchor"></a>Consent for Using the Package Cache</h3>
<ul>
<li>
<code><a href="https://rdrr.io/r/base/options.html">getOption('sandpaper.use_renv')</a></code> will be set when {sandpaper} loads to detect if the contributor has previously consented to use the {renv} package. If this is <code>TRUE</code>, the lesson will use a package cache, otherwise, the lesson will use the default library.</li>
<li>
<code><a href="../reference/use_package_cache.html">use_package_cache()</a></code> will give consent to {sandpaper} to create and use a package cache via {renv}. Internally, this enforces that <code><a href="https://rdrr.io/r/base/options.html">options(sandpaper.use_renv = TRUE)</a></code>.</li>
<li>
<code><a href="../reference/use_package_cache.html">no_package_cache()</a></code> does the opposite of <code><a href="../reference/use_package_cache.html">use_package_cache()</a></code> and revokes consent to use the package cache in a lesson temporarily. This can be useful in situtations where the cache is mis-behaving or you want to test the lesson using a newer set of packages. Internally, this enforces that <code><a href="https://rdrr.io/r/base/options.html">options(sandpaper.use_renv = FALSE)</a></code>.</li>
<li>
<code><a href="../reference/use_package_cache.html">package_cache_trigger(TRUE)</a></code> allows you to trigger a full rebuild when the lockfile changes. This is set to <code>TRUE</code> by default on <code><a href="../reference/ci_build_markdown.html">ci_build_markdown()</a></code>
</li>
</ul>
</div>
<div id="managing-the-package-cache" class="section level3">
<h3 class="hasAnchor">
<a href="#managing-the-package-cache" class="anchor"></a>Managing the Package Cache</h3>
<ul>
<li>
<code><a href="../reference/manage_deps.html">manage_deps()</a></code> is a new function that will manage dependencies for a lesson. This is called both in <code><a href="../reference/create_lesson.html">create_lesson()</a></code> and <code><a href="../reference/build_markdown.html">build_markdown()</a></code> to ensure that the correct dependencies for the lesson are installed. This explicitly calls <code><a href="../reference/use_package_cache.html">use_package_cache()</a></code> when it runs.</li>
<li>
<code><a href="../reference/manage_deps.html">update_cache()</a></code> will bring in updates for the lesson cache.</li>
<li>
<code><a href="../reference/manage_deps.html">pin_version()</a></code> will pin packages to a specific version, allowing authors to upgrade or downgrade packages at will.</li>
</ul>
</div>
</div>
<div id="new-features-1" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-1" class="anchor"></a>NEW FEATURES</h2>
<ul>
<li>
<code><a href="../reference/create_lesson.html">create_lesson()</a></code> now additionally will create a {renv} profile called “packages” in the lesson repository if <code><a href="https://rdrr.io/r/base/options.html">getOption('sandpaper.use_renv')</a></code> is <code>TRUE</code>. This will make the lesson more portable.</li>
<li>index and README files can now be Rmd files (though it is recommended to use .renvignore for these files if they are to avoid {sandpaper} becoming part of the package cache).</li>
<li>internal function <code><a href="../reference/ci_deploy.html">ci_deploy()</a></code> will set <code>sandpaper.use_renv</code> option to <code>TRUE</code>
</li>
<li>
<code><a href="../reference/build_markdown.html">build_markdown()</a></code> and thus <code><a href="../reference/build_lesson.html">build_lesson()</a></code> will now cache <code>config.yaml</code> and <code>renv.lock</code>. It will no longer step through the build process if no markdown files need to be rebuilt. This will cause any project built with previous versions of sandpaper to be fully rebuilt.</li>
<li>
<code><a href="../reference/sandpaper_site.html">sandpaper_site()</a></code> (and thus, <code><a href="../reference/build_lesson.html">build_lesson()</a></code>) now can take in a single file for rendering and render that specific file regardless if it is present in the cache without rendering other files. This further addresses <a href='https://github.com/carpentries/sandpaper/issues/77'>#77</a>. (n.b. this involved changes to <code><a href="../reference/build_markdown.html">build_markdown()</a></code>, <code><a href="../reference/build_site.html">build_site()</a></code>, and <code><a href="../reference/build_status.html">build_status()</a></code>).</li>
<li>
<code>varnish_vars()</code> is a list that contains commonly used variables in the lesson that can not be contained in the config.yaml</li>
<li>
<code>build_episode()</code> and <code>build_home()</code> now supply default variables to varnish.</li>
</ul>
</div>
<div id="continous-integration" class="section level2">
<h2 class="hasAnchor">
<a href="#continous-integration" class="anchor"></a>CONTINOUS INTEGRATION</h2>
<ul>
<li>unexported function <code><a href="../reference/ci_deploy.html">ci_deploy()</a></code> will now automatically check and set the git user and email.</li>
<li>
<code>sandpaper-main.yaml</code> and <code>pr-receive.yaml</code> have been updated to include the {renv} cache, but they will skip these steps for markdown lessons.</li>
<li>
<code>update-cache.yaml</code> is a new workflow that will update the package cache lockfile and create a pull request to trigger new builds if the lesson uses {renv}.</li>
<li>
<code>update-workflows.yaml</code> now produces more informative instructions for creating a repository secret.</li>
</ul>
</div>
<div id="misc-4" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-4" class="anchor"></a>MISC</h2>
<ul>
<li>some of the {callr} functions have been made non-anonymous and moved to a separate file so they could be tested independently.</li>
</ul>
</div>
<div id="bug-fix-3" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-3" class="anchor"></a>BUG FIX</h2>
<ul>
<li>changes to <code>config.yaml</code> are now reflected on the lesson site without rebuilding (fixes <a href='https://github.com/carpentries/sandpaper/issues/75'>#75</a>)</li>
<li>knitr option <code>root.dir</code> has been set to the output directory to avoid generated content from entering the source.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009049" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9049">
<a href="#sandpaper-0009049" class="anchor"></a>sandpaper 0.0.0.9049</h1>
<p>This is a placeholder for the testing of 0.0.0.9050.</p>
</div>
    <div id="sandpaper-0009048" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9048">
<a href="#sandpaper-0009048" class="anchor"></a>sandpaper 0.0.0.9048</h1>
<div id="bug-fix-4" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-4" class="anchor"></a>BUG FIX</h2>
<ul>
<li>pandoc lua filter no longer errors on raw div HTML elements with no class (<a href='https://github.com/zkamvar'>@zkamvar</a>, <a href='https://github.com/carpentries/sandpaper/issues/166'>#166</a>)</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009047" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9047">
<a href="#sandpaper-0009047" class="anchor"></a>sandpaper 0.0.0.9047</h1>
<div id="continuous-integration-5" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-5" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>The <code>update-workflows.yaml</code> workflow now checks if the <code>SANDPAPER_WORKFLOW</code> secret is valid. If not, it provides instructions for creating a new secret.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009046" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9046">
<a href="#sandpaper-0009046" class="anchor"></a>sandpaper 0.0.0.9046</h1>
<div id="continuous-integration-6" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-6" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>Weekly run pull requests now default to “weekly run” for “who triggered this pull request”</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009045" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9045">
<a href="#sandpaper-0009045" class="anchor"></a>sandpaper 0.0.0.9045</h1>
<div id="continuous-integration-7" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-7" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>Weekly run has been added for the workflows action</li>
<li>Actions have been updated to reflect the zkamvar -&gt; carpenteries repository transfer (<a href='https://github.com/zkamvar'>@zkamvar</a>, <a href='https://github.com/carpentries/sandpaper/issues/156'>#156</a>)</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009044" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9044">
<a href="#sandpaper-0009044" class="anchor"></a>sandpaper 0.0.0.9044</h1>
<div id="contiuous-integration" class="section level2">
<h2 class="hasAnchor">
<a href="#contiuous-integration" class="anchor"></a>CONTIUOUS INTEGRATION</h2>
<ul>
<li>The <code>update-workflow.yaml</code> parameters have been fixed to not use wildcards</li>
</ul>
</div>
<div id="misc-5" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-5" class="anchor"></a>MISC</h2>
<ul>
<li>
<code><a href="../reference/update_github_workflows.html">update_github_workflows()</a></code> gains a <code>clean</code> argument and now will print status reports at the end.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009043" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9043">
<a href="#sandpaper-0009043" class="anchor"></a>sandpaper 0.0.0.9043</h1>
<div id="continuous-integration-8" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-8" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>The <code>update-workflow.yaml</code> workflow has been updated to use the github action hosted on <code>zkamvar/actions</code> (soon to be transferred to The Carpentries account</li>
<li>The names of the actions displayed on GitHub have been updated to be more descriptive.</li>
<li>The script in <code>inst/scripts/update-workflows.sh</code> has been removed in favor of the github action.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009042" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9042">
<a href="#sandpaper-0009042" class="anchor"></a>sandpaper 0.0.0.9042</h1>
<div id="continuous-integration-9" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-9" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>An experimental <code>update-workflow.yaml</code> workflow has been created which will create a pull request that will update the workflows. It is still <em>very</em> experimental and it requires a scoped with repo and scope, but, nevertheless, the concept is currently valid.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009041" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9041">
<a href="#sandpaper-0009041" class="anchor"></a>sandpaper 0.0.0.9041</h1>
<div id="misc-6" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-6" class="anchor"></a>MISC</h2>
<ul>
<li>
<code>fetch_github_workflows()</code> has been renamed to <code><a href="../reference/update_github_workflows.html">update_github_workflows()</a></code>
</li>
<li>github workflows are no longer downloaded from an external source; they now live in inst/workflows. This will reduce the internet connection requirements for setting up a lesson and testing sandpaper.</li>
<li>
<code><a href="../reference/create_lesson.html">create_lesson()</a></code> now reports progress as it goes along</li>
<li>tests were updated to use the fixtures</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009040" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9040">
<a href="#sandpaper-0009040" class="anchor"></a>sandpaper 0.0.0.9040</h1>
<div id="continuous-integration-10" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-10" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>
<code><a href="../reference/ci_deploy.html">ci_deploy()</a></code> gains the <code>reset</code> argument, which can be used to clear the cache for a clean build of the lesson.</li>
<li>
<code><a href="../reference/ci_deploy.html">ci_deploy()</a></code> now uses <code><a href="../reference/ci_build_markdown.html">ci_build_markdown()</a></code> and <code>ci_build_site()</code>, internally</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009039" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9039">
<a href="#sandpaper-0009039" class="anchor"></a>sandpaper 0.0.0.9039</h1>
<div id="continuous-integration-11" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-11" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>
<code><a href="../reference/ci_session_info.html">ci_session_info()</a></code> will report the session information, which will help clean up the workflow files.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009038" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9038">
<a href="#sandpaper-0009038" class="anchor"></a>sandpaper 0.0.0.9038</h1>
<div id="continuous-integration-12" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-12" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>Fix broken deploy process on continuous integration caused by attempting to fetch all branches in a shallow clone (<a href='https://github.com/zkamvar'>@zkamvar</a>, <a href='https://github.com/carpentries/sandpaper/issues/142'>#142</a>)</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009037" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9037">
<a href="#sandpaper-0009037" class="anchor"></a>sandpaper 0.0.0.9037</h1>
<div id="continuous-integration-13" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-13" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>Output of <code>ci_bundle_pr_artifacts()</code> no longer escapes HTML-like output in the diff summary.</li>
<li>remove {xml2} from explicit dependencies</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009036" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9036">
<a href="#sandpaper-0009036" class="anchor"></a>sandpaper 0.0.0.9036</h1>
<div id="continuous-integration-14" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-14" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>Documentation for <code><a href="../reference/git_worktree_setup.html">git_worktree_setup()</a></code> has been added for future versions of the maintainer and future contributors.</li>
<li>
<code>ci_bundle_pr_artifacts()</code> is a new internal function that will create artifacts for GitHub to upload upon receipt of a pull request. This will replace clunky shell code that lived inside a YAML configuration file. (<a href='https://github.com/zkamvar'>@zkamvar</a>, <a href='https://github.com/carpentries/sandpaper/issues/139'>#139</a>)</li>
<li>add {brio} to soft dependencies (for testing, but maybe could speed up???)</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009035" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9035">
<a href="#sandpaper-0009035" class="anchor"></a>sandpaper 0.0.0.9035</h1>
<div id="continuous-integration-15" class="section level2">
<h2 class="hasAnchor">
<a href="#continuous-integration-15" class="anchor"></a>CONTINUOUS INTEGRATION</h2>
<ul>
<li>Tests for git operations were added to be more robust (<a href='https://github.com/zkamvar'>@zkamvar</a>, <a href='https://github.com/carpentries/sandpaper/issues/137'>#137</a>)</li>
<li>new test fixtures for a local remote repository was added to aid the above git tests.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009034" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9034">
<a href="#sandpaper-0009034" class="anchor"></a>sandpaper 0.0.0.9034</h1>
<div id="new-features-2" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-2" class="anchor"></a>NEW FEATURES</h2>
<ul>
<li>Authors can now cross-link between files within the lesson as they appear in the lesson instead of trying to guess how the link would appear on the website. For example, if you wanted to reference <code>learners/setup.md</code> in <code>episodes/introduction.md</code>, you would write <code>[setup](../learners/setup.md)</code> and it will be automatically converted to the correct URL in the website (<a href='https://github.com/carpentries/sandpaper/issues/43'>#43</a>). This is still backwards compatible with the previous iteration of writing the flattened link (as it would appear on the website).</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009033" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9033">
<a href="#sandpaper-0009033" class="anchor"></a>sandpaper 0.0.0.9033</h1>
<div id="new-features-3" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-3" class="anchor"></a>NEW FEATURES</h2>
<ul>
<li>
<code><a href="../reference/get_drafts.html">get_drafts()</a></code> will report any markdown files that are not currently published in the lesson.</li>
<li>Draft alert notifications are controlled by the <code>"sandpaper.show_draft"</code> option. To turn off these messages, use <code><a href="https://rdrr.io/r/base/options.html">options(sandpaper.show_draft = FALSE)</a></code>
</li>
<li>The <code><a href="../reference/set_dropdown.html">set_dropdown()</a></code> family of functions will now throw an error if an author attempts to add a file that does not exist</li>
<li>An error will occurr if the files listed in <code>config.yaml</code> do not exist in the lesson with an informative message highlighting the files that are missing.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009032" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9032">
<a href="#sandpaper-0009032" class="anchor"></a>sandpaper 0.0.0.9032</h1>
<div id="misc-7" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-7" class="anchor"></a>MISC</h2>
<ul>
<li>The internal <code><a href="../reference/get_resource_list.html">get_resource_list()</a></code> function has been modified to incorporate the features of <code><a href="../reference/get_dropdown.html">get_dropdown()</a></code>. This means that all <code><a href="../reference/get_dropdown.html">get_dropdown()</a></code> functions will only report the files in the dropdown menus that actually exist in the directory (<a href='https://github.com/carpentries/sandpaper/issues/134'>#134</a>).</li>
<li>A persistant test fixture is now included to speed up testing time (<a href='https://github.com/carpentries/sandpaper/issues/132'>#132</a> via
<a href='https://github.com/carpentries/sandpaper/issues/134'>#134</a>)</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009031" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9031">
<a href="#sandpaper-0009031" class="anchor"></a>sandpaper 0.0.0.9031</h1>
<div id="misc-8" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-8" class="anchor"></a>MISC</h2>
<ul>
<li>The {cli} package is now an official import of the package</li>
<li>The warning message issued from the internal <code>warn_schedule()</code> function has been changed exclusively use cli messages and can be suppressed with <code><a href="https://rdrr.io/r/base/message.html">suppressMessages()</a></code>.</li>
<li>The internal <code>sandpaper_cli_theme()</code> is used to style CLI messages.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009030" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9030">
<a href="#sandpaper-0009030" class="anchor"></a>sandpaper 0.0.0.9030</h1>
<div id="misc-9" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-9" class="anchor"></a>MISC</h2>
<ul>
<li>A test that caused problems with a new version of {pegboard} was fixed</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009029" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9029">
<a href="#sandpaper-0009029" class="anchor"></a>sandpaper 0.0.0.9029</h1>
<div id="misc-10" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-10" class="anchor"></a>MISC</h2>
<ul>
<li>The internal database is updated to use relative instead of absolute paths. This fixes <a href='https://github.com/carpentries/sandpaper/issues/129'>#129</a></li>
</ul>
</div>
</div>
    <div id="sandpaper-0009028" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9028">
<a href="#sandpaper-0009028" class="anchor"></a>sandpaper 0.0.0.9028</h1>
<div id="new-imports" class="section level2">
<h2 class="hasAnchor">
<a href="#new-imports" class="anchor"></a>NEW IMPORTS</h2>
<p>The {pingr} package is now being imported to check for online access, which will marginally decrease data usage (<a href='https://github.com/fmichonneau'>@fmichonneau</a>, <a href='https://github.com/carpentries/sandpaper/issues/127'>#127</a>).</p>
</div>
</div>
    <div id="sandpaper-0009027" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9027">
<a href="#sandpaper-0009027" class="anchor"></a>sandpaper 0.0.0.9027</h1>
<div id="misc-11" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-11" class="anchor"></a>MISC</h2>
<ul>
<li>
<code>create_schedule()</code> (internal function) no longer uses pegboard’s extensions for fixing reference links.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009026" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9026">
<a href="#sandpaper-0009026" class="anchor"></a>sandpaper 0.0.0.9026</h1>
<div id="misc-12" class="section level2">
<h2 class="hasAnchor">
<a href="#misc-12" class="anchor"></a>MISC</h2>
<ul>
<li>callout blocks with headers greater than h3 are now rendered properly and no longer forced to h3</li>
<li>tests now clean up after themselves and no longer change the working directory by default</li>
<li>{varnish} version bumped to 0.0.0.9005</li>
<li>tests that require pandoc will be skipped if pandoc is not available</li>
<li>tests for the presences of multiple files will use setequal instead of equal to allow for alternate sorting orders.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009025" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9025">
<a href="#sandpaper-0009025" class="anchor"></a>sandpaper 0.0.0.9025</h1>
<div id="dependency-update" class="section level2">
<h2 class="hasAnchor">
<a href="#dependency-update" class="anchor"></a>DEPENDENCY UPDATE</h2>
<ul>
<li>required {pegboard} has been bumped to version 0.0.0.9014</li>
<li>{renv} and {sessioninfo} added to Suggested packages.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009024" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9024">
<a href="#sandpaper-0009024" class="anchor"></a>sandpaper 0.0.0.9024</h1>
<div id="bug-fix-5" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-5" class="anchor"></a>BUG FIX</h2>
<ul>
<li>
<code><a href="../reference/create_lesson.html">create_lesson()</a></code> will now enforce “main” or the default branch (if init.defaultBranch is set) as the default branch for the new lesson. It will also try to make the URL match the project name and user name (but the latter is limited to users who have GitHub PAT set up that {gh} recognises).</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009023" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9023">
<a href="#sandpaper-0009023" class="anchor"></a>sandpaper 0.0.0.9023</h1>
<div id="bug-fix-6" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-6" class="anchor"></a>BUG FIX</h2>
<ul>
<li>
<code><a href="../reference/build_episode_md.html">build_episode_md()</a></code> now sets the <code>knitr.pandoc.to</code> knit option to allow for the chunk option <code>fig.cap</code> to be rendered as a caption. This fixes <a href='https://github.com/carpentries/sandpaper/issues/114'>#114</a>.</li>
</ul>
</div>
<div id="new-features-4" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-4" class="anchor"></a>NEW FEATURES</h2>
<ul>
<li>
<code><a href="../reference/set_dropdown.html">set_dropdown()</a></code> is now generalized to set any item in the dropdown menu (though this will likely be wrapped into a better-named function for generalized editing).</li>
<li>
<code><a href="https://rdrr.io/r/base/system.file.html">system.file("transform.R", pacakge = "sandpaper")</a></code> points to a file that will be used for transforming styles-repo era lessons to sandpaper lessons.</li>
<li>read/write cycles were reduced in markdown generation because we are no longer interfering with the manipulation of the files at this stage (and haven’t been for a while now).</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009022" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9022">
<a href="#sandpaper-0009022" class="anchor"></a>sandpaper 0.0.0.9022</h1>
<div id="bug-fix-7" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-7" class="anchor"></a>BUG FIX</h2>
<ul>
<li>
<code><a href="../reference/build_markdown.html">build_markdown(rebuild = TRUE)</a></code> now actually rebuilds the lesson</li>
<li>Changing an episode suffix will no longer result in a build error. This was due to <code><a href="../reference/build_markdown.html">build_markdown()</a></code> trying to clean <em>after</em> building the output instead of before. It’s a situation of throwing the baby out with the bathwater. In any case, this fixes <a href='https://github.com/carpentries/sandpaper/issues/102'>#102</a>.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009021" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9021">
<a href="#sandpaper-0009021" class="anchor"></a>sandpaper 0.0.0.9021</h1>
<div id="bug-fix-8" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-8" class="anchor"></a>BUG FIX</h2>
<ul>
<li>the template will be initialized with ALL folders with placeholders inside of the <code>instructor/</code> and <code>profile/</code> menus. This fixes <a href='https://github.com/carpentries/sandpaper/issues/103'>#103</a>.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009020" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9020">
<a href="#sandpaper-0009020" class="anchor"></a>sandpaper 0.0.0.9020</h1>
<div id="bug-fix-9" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-9" class="anchor"></a>BUG FIX</h2>
<ul>
<li>the <code>set_*()</code> functions no longer mess up yaml lists in <code>config.yaml</code>. This fixes <a href='https://github.com/carpentries/sandpaper/issues/53'>#53</a>.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009019" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9019">
<a href="#sandpaper-0009019" class="anchor"></a>sandpaper 0.0.0.9019</h1>
<ul>
<li>The required version of {pegboard} has been bumped to 0.0.0.9012, which gives better error messages and allows us to read in {sandpaper} lessons with the Lesson object.</li>
</ul>
</div>
    <div id="sandpaper-0009018" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9018">
<a href="#sandpaper-0009018" class="anchor"></a>sandpaper 0.0.0.9018</h1>
<ul>
<li>The episode template has been rearranged slightly and given level 2 headers.</li>
</ul>
</div>
    <div id="sandpaper-0009017" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9017">
<a href="#sandpaper-0009017" class="anchor"></a>sandpaper 0.0.0.9017</h1>
<div id="engine-update" class="section level2">
<h2 class="hasAnchor">
<a href="#engine-update" class="anchor"></a>ENGINE UPDATE</h2>
<ul>
<li>The version of pandoc will be explicitly checked to ensure that the version used is at least 2.11.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009016" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9016">
<a href="#sandpaper-0009016" class="anchor"></a>sandpaper 0.0.0.9016</h1>
<div id="bug-fix-10" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-10" class="anchor"></a>BUG FIX</h2>
<ul>
<li>
<code><a href="../reference/create_episode.html">create_episode()</a></code> with <code>make_prefix = FALSE</code> will no longer create episodes prefixed with <code><a href="https://rdrr.io/r/base/Arithmetic.html">-</a></code> (see <a href='https://github.com/carpentries/sandpaper/issues/93'>#93</a>).</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009015" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9015">
<a href="#sandpaper-0009015" class="anchor"></a>sandpaper 0.0.0.9015</h1>
<div id="new-features-5" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-5" class="anchor"></a>NEW FEATURES</h2>
<ul>
<li>
<code>fetch_github_workflows()</code> will download and update the GitHub workflows from the Carpentries actions repository.</li>
<li>
<code><a href="../reference/update_varnish.html">update_varnish()</a></code> will download and update the {varnish} styling package to your local repository.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009014" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9014">
<a href="#sandpaper-0009014" class="anchor"></a>sandpaper 0.0.0.9014</h1>
<div id="bug-fix-11" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-11" class="anchor"></a>BUG FIX</h2>
<ul>
<li>Episode order is retained in the HTML navigation (<a href='https://github.com/carpentries/sandpaper/issues/85'>#85</a>)</li>
<li>index.md is recorded in the site/build/ directory, and thus in the md-pages branch on deployment.</li>
</ul>
</div>
<div id="engine-update-1" class="section level2">
<h2 class="hasAnchor">
<a href="#engine-update-1" class="anchor"></a>ENGINE UPDATE</h2>
<p>The caching mechanism is now similar to that of {blogdown} where a database of source files and their checksum hashes is kept and only the updated files are built. This provides two advantages, the first is that we no longer have to peek at the top of the files to check if they need to be updated and the second is that we can keep the files in the right order (see <a href='https://github.com/carpentries/sandpaper/issues/85'>#85</a>)</p>
<p>Importantly, the workflow itself should not be affected, but there will be changes in what gets displayed on the github diff of the md-outputs branch.</p>
</div>
</div>
    <div id="sandpaper-0009013" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9013">
<a href="#sandpaper-0009013" class="anchor"></a>sandpaper 0.0.0.9013</h1>
<div id="new-features-6" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-6" class="anchor"></a>NEW FEATURES</h2>
<ul>
<li>In RStudio, the <strong>knit button works</strong> <span class="emoji" data-emoji="tada">🎉</span> (fix <a href='https://github.com/carpentries/sandpaper/issues/77'>#77</a>; <a href='https://github.com/zkamvar'>@zkamvar</a>, <a href='https://github.com/carpentries/sandpaper/issues/82'>#82</a>)</li>
<li>
<code><a href="../reference/sandpaper_site.html">sandpaper_site()</a></code> is a site generator function that allows {rmarkdown} to use the {sandpaper} machinery to build the site from <code><a href="https://pkgs.rstudio.com/rmarkdown/reference/render_site.html">rmarkdown::render_site()</a></code>
</li>
<li>
<code><a href="../reference/build_site.html">build_site()</a></code> gains a <code>slug</code> argument that tailors the previewed content.</li>
<li>
<code><a href="../reference/create_lesson.html">create_lesson()</a></code> will now create a blank <code>index.md</code> with <code>site: sandpaper_site</code> as the only YAML item.</li>
<li>HTML accidentally rendered to the source directories are silently removed when the site is built. (fix <a href='https://github.com/carpentries/sandpaper/issues/78'>#78</a>, <a href='https://github.com/zkamvar'>@zkamvar</a>, <a href='https://github.com/carpentries/sandpaper/issues/84'>#84</a>)</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009012" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9012">
<a href="#sandpaper-0009012" class="anchor"></a>sandpaper 0.0.0.9012</h1>
<div id="new-features-7" class="section level2">
<h2 class="hasAnchor">
<a href="#new-features-7" class="anchor"></a>NEW FEATURES</h2>
<ul>
<li>Inline and reference-based footnotes are now supported.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009011" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9011">
<a href="#sandpaper-0009011" class="anchor"></a>sandpaper 0.0.0.9011</h1>
<div id="bug-fix-12" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-12" class="anchor"></a>BUG FIX</h2>
<ul>
<li>Bare links and text emoji (e.g. <span class="emoji" data-emoji="wink">😉</span>) are now rendered (fix <a href='https://github.com/carpentries/sandpaper/issues/67'>#67</a>).</li>
<li>Objectives and Questions headings will now no longer be rendered (fix <a href='https://github.com/carpentries/sandpaper/issues/64'>#64</a>).</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009010" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9010">
<a href="#sandpaper-0009010" class="anchor"></a>sandpaper 0.0.0.9010</h1>
<div id="bug-fix-13" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-13" class="anchor"></a>BUG FIX</h2>
<ul>
<li>If <code>index.md</code> exists at the top level, it will be used instead of <code>README.md</code> for the lesson index page (fix <a href='https://github.com/carpentries/sandpaper/issues/56'>#56</a>).</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009009" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9009">
<a href="#sandpaper-0009009" class="anchor"></a>sandpaper 0.0.0.9009</h1>
<div id="bug-fix-14" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-14" class="anchor"></a>BUG FIX</h2>
<ul>
<li>The lua filter responsible for creating the Objectives summary block at the beginning of episodes now uses native pandoc divs instead of HTML block shims. This ensures that the content is not corrupted by pandoc’s section divs extension. This addresses issue <a href='https://github.com/carpentries/sandpaper/issues/64'>#64</a></li>
<li>All aside elements will be forced to have level 3 headers (this fixes an issue with pandocs –section-divs where it couldn’t understand when an HTML block contained only the start of an aside tag and decided to end the section right after it.</li>
<li>The Objectives and Questions blocks will no longer include their headers in the initial summary block.</li>
<li>A bug introduced in version 0.0.0.9008 was fixed. This bug improperly used regex resulting in the accidental removal of cached rendered images. This fixes issue <a href='https://github.com/carpentries/sandpaper/issues/49'>#49</a></li>
<li>Rendered images now have the prefix of <code>{SOURCE}-rendered-</code> in the <code>site/built/fig/</code> subdir.</li>
</ul>
</div>
</div>
    <div id="sandpaper-0009008" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9008">
<a href="#sandpaper-0009008" class="anchor"></a>sandpaper 0.0.0.9008</h1>
<div id="bug-fix-15" class="section level2">
<h2 class="hasAnchor">
<a href="#bug-fix-15" class="anchor"></a>BUG FIX</h2>
<ul>
<li>files that were removed from the source are now also removed in the site/built directory. This fixes issue <a href='https://github.com/carpentries/sandpaper/issues/47'>#47</a></li>
</ul>
</div>
</div>
    <div id="sandpaper-0009007" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9007">
<a href="#sandpaper-0009007" class="anchor"></a>sandpaper 0.0.0.9007</h1>
<ul>
<li>HTML will now be processed with pandoc lua filters that will do the following:
<ul>
<li>overview block will be constructed from the teaching and exercises metadata with the question and objectives blocks</li>
<li>instructor and callout divs will be converted to <code>&lt;aside&gt;</code> tags</li>
<li>divs without H2 level headers will have them automatically inserted</li>
<li>divs with incorrect level headers will have them converted to H2</li>
<li>only divs in our list of carpentries divs will be converted</li>
</ul>
</li>
<li>README updated to reflect API changes</li>
</ul>
</div>
    <div id="sandpaper-0009006" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9006">
<a href="#sandpaper-0009006" class="anchor"></a>sandpaper 0.0.0.9006</h1>
<p>Continuous integration functions added:</p>
<ul>
<li>
<code><a href="../reference/ci_deploy.html">ci_deploy()</a></code> will build the markdown source and the site and commit them to separate branches, including information about their source.</li>
<li>
<code><a href="../reference/ci_build_markdown.html">ci_build_markdown()</a></code> will build the markdown source files and commit them to a separate branch, including information about the source commit.</li>
<li>
<code>ci_build_site()</code> will build the site directly from the markdown branch, bypassing re-rendering the markdown files.</li>
</ul>
<p>Miscellaneous additions</p>
<ul>
<li>{dovetail} no longer in suggests</li>
<li>new internal function <code><a href="../reference/build_site.html">build_site()</a></code> compartmentalizes the conversion from markdown to html</li>
<li>any files or folders named <code>.git</code> in the episodes directory will not be copied over to the website.</li>
</ul>
</div>
    <div id="sandpaper-0009005" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9005">
<a href="#sandpaper-0009005" class="anchor"></a>sandpaper 0.0.0.9005</h1>
<ul>
<li>sandpaper now requires and uses additional folders and files:
<ul>
<li>CODE_OF_CONDUCT.md</li>
<li>learners/Setup.md</li>
<li>instructors/</li>
<li>profiles/</li>
<li>LICENSE.md</li>
</ul>
</li>
<li>
<code>_schedule()</code> functions have been renamed to <code>_episodes()</code>.</li>
<li>
<code>clean_*()</code> functions are now renamed to <code>reset_*()</code>
</li>
<li>Generic <code>set/get/reset_dropdown()</code> functions have been created to facilitate modification/access of folders that are dropdown menus inside of the lesson</li>
<li>questionable practices with directories mucking about.</li>
<li>
<code><a href="../reference/build_markdown.html">build_markdown()</a></code> will now generate artifacts in the <code>site/built/assets/</code> directory instead of <code>episodes/</code> directory to prevent generated artifacts from being included in git (See <a href="https://github.com/carpentries/sandpaper/issues/24" class="uri">https://github.com/carpentries/sandpaper/issues/24</a>)</li>
</ul>
</div>
    <div id="sandpaper-0009004" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9004">
<a href="#sandpaper-0009004" class="anchor"></a>sandpaper 0.0.0.9004</h1>
<ul>
<li>Internal <code>html_from_md()</code> renamed to <code><a href="../reference/render_html.html">render_html()</a></code>
</li>
<li>Internal <code>build_episode()</code> renamed to <code><a href="../reference/build_episode_html.html">build_episode_html()</a></code> and exported, but documentation still internal</li>
<li>Internal <code>build_single_episode()</code> renamed to <code><a href="../reference/build_episode_md.html">build_episode_md()</a></code> and exported, but documentation still internal</li>
</ul>
</div>
    <div id="sandpaper-0009003" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9003">
<a href="#sandpaper-0009003" class="anchor"></a>sandpaper 0.0.0.9003</h1>
<ul>
<li>A regression in <code><a href="../reference/build_markdown.html">build_markdown()</a></code> due to being called in a separate process was fixed.</li>
<li>Internal functions for setting {knitr} options were migrated to live inside <code><a href="../reference/build_markdown.html">build_markdown()</a></code>
</li>
</ul>
</div>
    <div id="sandpaper-0009002" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9002">
<a href="#sandpaper-0009002" class="anchor"></a>sandpaper 0.0.0.9002</h1>
<ul>
<li>Migrate template to use fenced divs instead of {dovetail}.</li>
<li>
<code><a href="../reference/build_lesson.html">build_lesson()</a></code> will now render HTML in episode titles.</li>
<li>{callr} is now imported to protect the processes building markdown and HTML files.</li>
</ul>
</div>
    <div id="sandpaper-0009001" class="section level1">
<h1 class="page-header" data-toc-text="0.0.0.9001">
<a href="#sandpaper-0009001" class="anchor"></a>sandpaper 0.0.0.9001</h1>
<ul>
<li>Add <code>override</code> argument to <code><a href="../reference/build_lesson.html">build_lesson()</a></code>. This gets passed on to <code><a href="https://pkgdown.r-lib.org/reference/as_pkgdown.html">pkgdown::as_pkgdown()</a></code> for more control over where the site gets built.</li>
<li>Update dependency of {pegboard} to 0.0.0.9006, which includes the $questions field to make parsing the ever shifting landscape a bit easier.</li>
<li>First tracking version with NEWS</li>
</ul>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>

</div>


      <footer>
      <div class="copyright">
  <p>Developed by Zhian N. Kamvar.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


