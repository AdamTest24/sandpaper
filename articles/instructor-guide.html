<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="sandpaper">
<title>Instructor guide to using {sandpaper} • sandpaper</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="Instructor guide to using {sandpaper}">
<meta property="og:description" content="sandpaper">
<meta property="og:image" content="https://carpentries.github.io/sandpaper/logo.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:creator" content="@zkamvar">
<meta name="twitter:site" content="@thecarpentries">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">sandpaper</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.12.5</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/instructor-guide.html">Instructor guide to using {sandpaper}</a>
    <a class="dropdown-item" href="../articles/building-with-renv.html">Building Lessons With A Package Cache</a>
    <a class="dropdown-item" href="../articles/automated-pull-requests.html">Working with Automated Pull Requests</a>
    <div class="dropdown-divider"></div>
    <a class="dropdown-item" href="../articles/index.html">More articles...</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/carpentries/sandpaper/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Instructor guide to using {sandpaper}</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/carpentries/sandpaper/blob/HEAD/vignettes/instructor-guide.Rmd" class="external-link"><code>vignettes/instructor-guide.Rmd</code></a></small>
      <div class="d-none name"><code>instructor-guide.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://carpentries.github.io/sandpaper/">sandpaper</a></span><span class="op">)</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This guide provides an overview of how to use the {sandpaper} package
to create and maintain lessons, mainly targeted at instructors.
<strong>For a complete guide to using {sandpaper}, head over to <a href="https://carpentries.github.io/sandpaper-docs/" class="uri">https://carpentries.github.io/sandpaper-docs/</a>.</strong></p>
</div>
<div class="section level2">
<h2 id="creating-a-new-lesson">Creating a new lesson<a class="anchor" aria-label="anchor" href="#creating-a-new-lesson"></a>
</h2>
<div class="section level3">
<h3 id="setting-up-the-directory-sturcture">Setting up the directory sturcture<a class="anchor" aria-label="anchor" href="#setting-up-the-directory-sturcture"></a>
</h3>
<p>To create a lesson with {sandpaper}, use the
<code><a href="../reference/create_lesson.html">create_lesson()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sandpaper</span><span class="fu">::</span><span class="fu"><a href="../reference/create_lesson.html">create_lesson</a></span><span class="op">(</span><span class="st">"~/Desktop/r-intermediate-penguins"</span><span class="op">)</span></span></code></pre></div>
<p>This will create folder on your desktop called
<code>r-intermediate-penguins</code> with the following structure:</p>
<pre><code>|-- .gitignore               # - Ignore everything in the site/ folder
|-- .github/                 # - Scripts used for continuous integration
|   `-- workflows/           #
|       |-- deploy-site.yaml # -   Build the source files on github pages
|       |-- build-md.yaml    # -   Build the markdown files on github pages
|       `-- cron.yaml        # -   reset package cache and test
|-- episodes/                # - PUT YOUR MARKDOWN FILES IN THIS FOLDER
|   |-- data/                # -   Data for your lesson goes here
|   |-- figures/             # -   All static figures and diagrams are here
|   |-- files/               # -   Additional files (e.g. handouts)
|   `-- introduction.Rmd     # -   Lessons start with a two-digit number
|-- instructors/             # - Information for Instructors
|-- learners/                # - Information for Learners
|   `-- setup.md             # -   setup instructions (REQUIRED)
|-- profiles/                # - Learner and/or Instructor Profiles
|-- site/                    # - This folder is where the rendered markdown files and static site will live
|   `-- README.md            # -   placeholder
|-- config.yaml              # - Use this to configure commonly used variables
|-- CONTRIBUTING.md          # - Carpentries Rules for Contributions (REQUIRED)
|-- CODE_OF_CONDUCT.md       # - Carpentries Code of Conduct (REQUIRED)
|-- LICENSE.md               # - Carpentries Licenses (REQUIRED)
`-- README.md                # - Introduces folks how to use this lesson and where they can find more information.</code></pre>
<p>Once you have your site set up, you can add your RMarkdown files in
the episodes folder. By default, they will be built in alphabetical
order, but you can use the <code><a href="../reference/set_dropdown.html">set_episodes()</a></code> command to build
the schedule in your <code>config.yaml</code> file:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">s</span> <span class="op">&lt;-</span> <span class="fu">sandpaper</span><span class="fu">::</span><span class="fu"><a href="../reference/get_dropdown.html">get_episodes</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu">sandpaper</span><span class="fu">::</span><span class="fu"><a href="../reference/set_dropdown.html">set_episodes</a></span><span class="op">(</span>order <span class="op">=</span> <span class="va">s</span>, write <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="adding-new-episodes">Adding new episodes<a class="anchor" aria-label="anchor" href="#adding-new-episodes"></a>
</h3>
<p>You can add new episodes, using</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sandpaper</span><span class="fu">::</span><span class="fu"><a href="../reference/create_episode.html">create_episode</a></span><span class="op">(</span><span class="st">"plotting"</span><span class="op">)</span></span></code></pre></div>
<p>This will add a new <code>episodes/plotting.Rmd</code> file to your
lesson with some example content. You can then edit this file to add
your own content.</p>
</div>
<div class="section level3">
<h3 id="episode-structure">Episode structure<a class="anchor" aria-label="anchor" href="#episode-structure"></a>
</h3>
<p>See <a href="https://carpentries.github.io/sandpaper-docs/episodes.html">Introduction
to The Carpentries Workbench: Episode Structure</a>.</p>
</div>
<div class="section level3">
<h3 id="previewing-your-new-lesson">Previewing your new lesson<a class="anchor" aria-label="anchor" href="#previewing-your-new-lesson"></a>
</h3>
<p>After you created your lesson, you will want to preview it locally.
First, make sure that you are in your newly-created repository and then
use the following command:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sandpaper</span><span class="fu">::</span><span class="fu"><a href="../reference/serve.html">serve</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This function will open a preview window in RStudio or your browser
and will <strong>update automatically</strong> as you work on the
lesson.</p>
<p>If you are using RStudio, you can use the following keyboard
shortcuts:</p>
<ul>
<li>Render and preview the whole lesson:
<code>ctrl/cmd + shift + B</code>
</li>
<li>Render and preview an episode:
<code>ctrl/cmd + shift + K</code>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="pushing-to-github">Pushing to GitHub<a class="anchor" aria-label="anchor" href="#pushing-to-github"></a>
</h3>
<p>Once you are happy with your lesson, you can push it to GitHub to run
the automated lesson building workflows and to publish your lesson on
GitHub pages. You can set up a GitHub repository and activate GitHub
pages using the <a href="https://usethis.r-lib.org/" class="external-link">{usethis}</a>
package:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_github.html" class="external-link">use_github</a></span><span class="op">(</span>organisation <span class="op">=</span> <span class="st">"&lt;ORG-NAME&gt;"</span>, private <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/use_github_pages.html" class="external-link">use_github_pages</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>Replace <code>"&lt;ORG-NAME&gt;"</code> with the name of your GitHub
organisation or set it to <code>NULL</code> to use your personal
account. You can also make the repository private by setting
<code>private = TRUE</code>. This will create a new GitHub repository at
<code>https:://github.com/&lt;ORG-NAME&gt;/r-intermediate-penguins</code>
and will set up GitHub pages at
<code>https://&lt;ORG-NAME&gt;.github.io/r-intermediate-penguins</code>.
It will take a couple of minutes for the GitHub Action workflows to
validate, build and deploy the lesson. You can track the progress at
<code>https:://github.com/&lt;ORG-NAME&gt;/r-intermediate-penguins/actions</code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="modifying-an-existing-lesson">Modifying an existing lesson<a class="anchor" aria-label="anchor" href="#modifying-an-existing-lesson"></a>
</h2>
<p>To work on an existing lesson already hosted on GitHub, <a href="https://docs.github.com/en/get-started/quickstart/fork-a-repo" class="external-link">fork
and clone the repository</a> to your computer using your method of
choice. When working in R, you can do this easily with the <a href="https://usethis.r-lib.org/" class="external-link">{usethis}</a> package:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## Using an example repo from the Carpentries</span></span>
<span><span class="fu">usethis</span><span class="fu">::</span><span class="fu"><a href="https://usethis.r-lib.org/reference/create_from_github.html" class="external-link">create_from_github</a></span><span class="op">(</span><span class="st">"carpentries/sandpaper-docs"</span>, <span class="st">"~/Documents/Lessons/"</span><span class="op">)</span></span></code></pre></div>
<p>After editing the content and previewing with
<code><a href="../reference/serve.html">sandpaper::serve()</a></code>, you should first <strong>save and
commit your changes</strong> with <code>git</code>. When working in
RStudio, you can do this in the Git tab in the top right corner of the
screen:</p>
<ol style="list-style-type: decimal">
<li>Click the “Git” tab in the top right corner of the screen</li>
<li>Check the “Staged” box for the file(s) you want to commit</li>
<li>Type a concise but descriptive commit message in the “Commit
message” box</li>
<li>Click “commit”</li>
</ol>
<p>After committing your changes, you can push them to GitHub using the
“Push” button in the Git tab. Note that it’s often <a href="https://happygitwithr.com/repeated-amend.html#rock-climbing-analogy" class="external-link">a
good idea to to make several, small commits</a> rather than one large
commit. You also don’t need to push after each commit.</p>
<p>For a comprehensive guide on using Git and GitHub with R, see <a href="https://happygitwithr.com/" class="external-link">Happy Git and GitHub for the
useR</a>.</p>
</div>
<div class="section level2">
<h2 id="managing-and-updating-the-package-cache">Managing and updating the package cache<a class="anchor" aria-label="anchor" href="#managing-and-updating-the-package-cache"></a>
</h2>
<blockquote>
<p><em>Note: this is only relevant for lessons with <strong>generated
content</strong>. I.e. lessons based on RMarkdown episodes</em></p>
</blockquote>
<p>Full guide: <a href="https://carpentries.github.io/sandpaper/articles/building-with-renv.html">Building
Lessons With A Package Cache • sandpaper</a>.</p>
<p>{sandpaper} can set up a package cache for your lesson to create a
reliable setup that ensures the same package versions are used to build
your lesson, both locally and on the GitHub Actions runners.</p>
<p>To make use of the package cache, you need to <em>explicitly</em>
give {sandpaper} permission to create and use a cache with:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">sandpaper</span><span class="fu">::</span><span class="fu"><a href="../reference/package_cache.html">use_package_cache</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>From this point on, {sandpaper} will detect any <strong>R
packages</strong> used throughout the lesson with
<code><a href="https://rdrr.io/r/base/library.html" class="external-link">library(package)</a></code> or <code>package::some_function()</code>
and add them to the cache.</p>
<blockquote>
<p><em>Note: this currently does not work for <strong>Python
packages</strong>, which still need to be manually installed for the
lesson with <code><a href="../reference/use_python.html">sandpaper::py_install()</a></code>.</em></p>
</blockquote>
<p>Now every time you build the lesson (either locally or on GitHub
Actions), {sandpaper} will check that all the packages used in the
lesson are available in the cache. If a package is missing, {sandpaper}
will install it and add it to the cache.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Zhian N. Kamvar.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
